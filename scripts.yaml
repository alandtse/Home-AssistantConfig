#################################################################
## Scripts
#################################################################

  abodeaway:
    alias: 'Abode Arm'
    sequence:
      - service: input_select.select_option
        data:
          entity_id: input_select.abodestatus
          option: 'away'
      - service: notify.pushbullet
        data:
          message: "Arming alarm for away"
      - service: shell_command.armaway
#      - service: ifttt.trigger
#        data: {"event":"AbodeAway", "value1":"Arm Abode"}
      - service: climate.set_away_mode
        data:
          entity_id: climate.downstairs
          away_mode: 'True'
      - service: climate.set_away_mode
        data:
          entity_id: climate.upstairs
          away_mode: 'True'
      # - service: homeassistant.turn_on
      #   entity_id: input_boolean.startrecording

  abodehome:
    alias: 'Abode Home'
    sequence:
      - service: input_select.select_option
        data:
          entity_id: input_select.abodestatus
          option: 'home'
      - service: shell_command.disarm
      - service: notify.pushbullet
        data:
          message: "Arming alarm for home"
      - service: shell_command.arm
#      - service: ifttt.trigger
#        data: {"event":"AbodeHome", "value1":"Abode Home"}

  abodestandby:
    alias: 'Abode Standby'
    sequence:
      - service: input_select.select_option
        data:
          entity_id: input_select.abodestatus
          option: 'standby'
      - service: notify.pushbullet
        data:
          message: "Disarming alarm"
      - service: shell_command.disarm
#      - service: ifttt.trigger
#        data: {"event":"AbodeStandby", "value1":"Abode Standby"}
#      - service: climate.set_away_mode
#        data:
#          entity_id: climate.upstairs
#          away_mode: 'False'
      - service: climate.set_away_mode
        data:
          entity_id: climate.downstairs
          away_mode: 'False'
#      - service: light.turn_off
#        entity_id: group.living_room_lights

  notificationgaragedoor:
    alias: 'Garage Door Open'
    sequence:
      - service: notify.pushbullet
        data:
          message: 'Garage door is open, please check!'

  notificationleavework:
    alias: 'Leave for Work'
    sequence:
      - service: notify.pushbullet
        data:
          message: 'Traffic has cleared, you can leave for work.'

  arm_security:
    alias: 'Arm Security'
    sequence:
      - delay: 00:05:00
      - service: homeassistant.turn_on
        entity_id: script.abodeaway

  disarm_security:
    alias: 'Disarm Security'
    sequence:
      - service: homeassistant.turn_on
        entity_id: script.abodestandby
  
  opengarage:
    alias: 'Open Garage'
    sequence:
      - service: cover.open_cover
        entity_id: cover.garage_door_opener

  owntracks_update:
    sequence:
      - service: mqtt.publish
        data:
          topic: owntracks/alandtse/Nexus5/cmd 
          payload: '{"_type":"cmd","action":"reportLocation"}"'
      - service: mqtt.publish
        data:
          topic: owntracks/raywtse/Note4/cmd 
          payload: '{"_type":"cmd","action":"reportLocation"}"'
